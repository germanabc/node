From: <Saved by Blink>
Subject: ??javascript????
Date: Thu, 14 Sep 2016 02:16:31 -0000
MIME-Version: 1.0
Content-Type: multipart/related;
	type="text/html";
	boundary="----MultipartBoundary--56qSkiQMeyf2fpa2WSDlASW6B5y5csDUueOZUx7GKv----"

------MultipartBoundary--56qSkiQMeyf2fpa2WSDlASW6B5y5csDUueOZUx7GKv----
Content-Type: text/html
Content-ID: <frame-108-0e650668-020e-4f5b-9a6e-d3ec561ced9f@mhtml.blink>
Content-Transfer-Encoding: quoted-printable
Content-Location: http://guoqing2013.github.io/Frontend-Knowledge/JavaScript/%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/javascript%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E%E5%92%8C%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86.html

<!DOCTYPE html><html><head><meta http-equiv=3D"Content-Type" content=3D"tex=
t/html; charset=3DUTF-8">
<title>=E7=AE=80=E5=8D=95javascript=E6=A8=A1=E6=9D=BF=E5=BC=95=E6=93=8E</ti=
tle>

<style type=3D"text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, b=
lockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, i=
mg, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i=
, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, cap=
tion, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, emb=
ed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, se=
ction, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 c=
ode, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:f=
irst-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:f=
irst-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child,=20
ol li > :first-child,=20
ul li ul:first-of-type,=20
ol li ol:first-of-type,=20
ul li ol:first-of-type,=20
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D*/

img {
  max-width: 100%
}
</style>
<base href=3D"file:///F:/Frontend-Knowledge/JavaScript/%E6%A8%A1%E6%9D%BF%E=
5%BC%95%E6%93%8E/">
</head>
<body>
<p><link href=3D"http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sub=
lime.min.css" rel=3D"stylesheet">

</p>
<!--
    http://segmentfault.com/a/1190000000432600
    http://www.cnblogs.com/dolphinX/p/3489269.html
    http://www.cnblogs.com/hustskyking/p/principle-of-javascript-template.h=
tml
-->
<h1>=E7=AE=80=E5=8D=95javascript=E6=A8=A1=E6=9D=BF=E5=BC=95=E6=93=8E</h1>
<hr>
<h3>=E4=B8=80=E3=80=81=E6=A8=A1=E6=9D=BF=E5=BC=95=E6=93=8E</h3>
<p>=E9=80=9A=E8=BF=87=E5=88=86=E6=9E=90=E6=A8=A1=E6=9D=BF=EF=BC=8C=E5=B0=86=
=E6=95=B0=E6=8D=AE=E5=92=8C=E6=A8=A1=E6=9D=BF=E7=BB=93=E5=90=88=E5=9C=A8=E4=
=B8=80=E8=B5=B7=E8=BE=93=E5=87=BA=E6=9C=80=E5=90=8E=E7=9A=84=E7=BB=93=E6=9E=
=9C=E7=9A=84=E7=A8=8B=E5=BA=8F=E7=A7=B0=E4=B8=BA=E6=A8=A1=E6=9D=BF=E5=BC=95=
=E6=93=8E=E3=80=82</p>
<p>=E6=A8=A1=E6=9D=BF=E5=86=99=E6=B3=95=EF=BC=9A</p>
<pre><code class=3D" hljs xml"><span class=3D"hljs-tag">&lt;<span class=3D"=
hljs-title">ul</span>&gt;</span>
    <span class=3D"vbscript">&lt;% <span class=3D"hljs-keyword">for</span>(=
var i <span class=3D"hljs-keyword">in</span> items){ %&gt;</span>
        <span class=3D"hljs-tag">&lt;<span class=3D"hljs-title">li</span> <=
span class=3D"hljs-attribute">class</span>=3D<span class=3D"hljs-value">'&l=
t;%=3D items[i].status %&gt;'</span>&gt;</span><span class=3D"vbscript">&lt=
;%=3D items[i].text %&gt;</span><span class=3D"hljs-tag">&lt;/<span class=
=3D"hljs-title">li</span>&gt;</span>
    <span class=3D"vbscript">&lt;% } %&gt;</span>
<span class=3D"hljs-tag">&lt;/<span class=3D"hljs-title">ul</span>&gt;</spa=
n>
</code></pre>

<p>=E9=9D=9E=E6=A8=A1=E6=9D=BF=E5=86=99=E6=B3=95=EF=BC=9A</p>
<pre><code class=3D" hljs cs"><span class=3D"hljs-keyword">var</span> temp =
=3D <span class=3D"hljs-string">'&lt;ul&gt;'</span>;
<span class=3D"hljs-keyword">for</span>(<span class=3D"hljs-keyword">var</s=
pan> i <span class=3D"hljs-keyword">in</span> items){
    temp +=3D <span class=3D"hljs-string">"&lt;li class=3D'"</span> + items=
[i].status + <span class=3D"hljs-string">"'&gt;"</span> + items[i].text + <=
span class=3D"hljs-string">"&lt;/li&gt;"</span>;
}
temp +=3D <span class=3D"hljs-string">'&lt;/ul&gt;'</span>;
</code></pre>

<h3>=E4=BA=8C=E3=80=81JS=E6=A8=A1=E6=9D=BF=E5=BC=95=E6=93=8E=E7=9A=84=E5=AE=
=9E=E7=8E=B0=E5=8E=9F=E7=90=86</h3>
<p>=E6=83=B3=E5=BE=97=E5=88=B0=E9=A2=84=E6=9C=9Fhtml=E5=AD=97=E7=AC=A6=E4=
=B8=B2=EF=BC=8C=E6=88=91=E4=BB=AC=E5=BF=85=E9=A1=BB=E8=AE=BE=E6=B3=95=E8=AE=
=A9=E6=A8=A1=E6=9D=BF=E5=86=85=E9=83=A8=E7=9A=84javascript=E5=8F=98=E9=87=
=8F=E7=BD=AE=E6=8D=A2=E3=80=81javaScript=E8=AF=AD=E5=8F=A5=E6=89=A7=E8=A1=
=8C=EF=BC=8C=E4=B9=9F=E5=B0=B1=E6=98=AF=E6=8A=8AJavaScript=E4=BB=A3=E7=A0=
=81=E5=89=A5=E7=A6=BB=E5=87=BA=E6=9D=A5=E6=89=A7=E8=A1=8C=EF=BC=8C=E6=8A=8A=
=E5=85=B6=E5=AE=83html=E8=AF=AD=E5=8F=A5=E6=8B=BC=E6=8E=A5=E4=B8=BA=E4=B8=
=80=E4=B8=AA=E5=AD=97=E7=AC=A6=E4=B8=B2=E3=80=82
=E8=99=BD=E7=84=B6=E6=AF=8F=E4=B8=AA=E5=BC=95=E6=93=8E=E4=BB=8E=E6=A8=A1=E6=
=9D=BF=E8=AF=AD=E6=B3=95=E3=80=81=E8=AF=AD=E6=B3=95=E8=A7=A3=E6=9E=90=E3=80=
=81=E5=8F=98=E9=87=8F=E8=B5=8B=E5=80=BC=E3=80=81=E5=AD=97=E7=AC=A6=E4=B8=B2=
=E6=8B=BC=E6=8E=A5=E7=9A=84=E5=AE=9E=E7=8E=B0=E6=96=B9=E5=BC=8F=E5=90=84=E6=
=9C=89=E6=89=80=E4=B8=8D=E5=90=8C=EF=BC=8C=E4=BD=86=E5=85=B3=E9=94=AE=E7=9A=
=84=E6=B8=B2=E6=9F=93=E5=8E=9F=E7=90=86=E4=BB=8D=E7=84=B6=E6=98=AF=E5=8A=A8=
=E6=80=81=E6=89=A7=E8=A1=8C javascript =E5=AD=97=E7=AC=A6=E4=B8=B2=E3=80=82=
</p>
<h4>1. =E6=AD=A3=E5=88=99=E8=BF=9B=E8=A1=8C=E7=AE=80=E5=8D=95=E7=9A=84=E5=
=AD=97=E7=AC=A6=E4=B8=B2=E7=BD=AE=E6=8D=A2</h4>
<p>=E4=BD=BF=E7=94=A8=E6=AD=A3=E5=88=99=E8=A1=A8=E8=BE=BE=E5=BC=8F=E5=AF=BB=
=E6=89=BE=E9=87=8C=E9=9D=A2=E7=9A=84=E6=A8=A1=E6=9D=BF=E5=8F=82=E6=95=B0=EF=
=BC=8C=E7=84=B6=E5=90=8E=E6=9B=BF=E6=8D=A2=E6=88=90=E4=BC=A0=E7=BB=99=E5=BC=
=95=E6=93=8E=E7=9A=84=E5=85=B7=E4=BD=93=E6=95=B0=E6=8D=AE=E3=80=82</p>
<pre><code class=3D" hljs mel">var TemplateEngine =3D function(tpl, data) {
    var re =3D /&lt;<span class=3D"hljs-variable">%(</span>[^<span class=3D=
"hljs-variable">%&gt;</span>]+)?<span class=3D"hljs-variable">%&gt;</span>/=
g;
    <span class=3D"hljs-keyword">while</span>(<span class=3D"hljs-keyword">=
match</span> =3D re.<span class=3D"hljs-keyword">exec</span>(tpl)) {
        tpl =3D tpl.replace(<span class=3D"hljs-keyword">match</span>[<span=
 class=3D"hljs-number">0</span>], data[<span class=3D"hljs-keyword">match</=
span>[<span class=3D"hljs-number">1</span>]])
    }
    <span class=3D"hljs-keyword">return</span> tpl;
}
</code></pre>

<p>=E5=A6=82=E6=9E=9C=E6=AD=A3=E5=88=99=E5=8C=B9=E9=85=8D=E6=88=90=E5=8A=9F=
=EF=BC=8C=E5=88=99match=E4=B8=8D=E4=B8=BA=E7=A9=BA=EF=BC=8Cmatch[0]=E6=98=
=AF=E5=8C=B9=E9=85=8D=E5=88=B0=E7=9A=84=E5=AD=97=E7=AC=A6=E4=B8=B2 &lt;% te=
mplate %&gt;=EF=BC=8Cmatch[1]=E6=98=AF=E6=8D=95=E8=8E=B7=E5=88=B0=E7=9A=84=
=E5=8F=98=E9=87=8Ftemplate=E3=80=82</p>
<h4>2. javascript=E5=8A=A8=E6=80=81=E5=87=BD=E6=95=B0</h4>
<p>=E5=9C=A8js=E4=B8=ADfunction=E6=98=AF=E5=AD=97=E9=9D=A2=E8=AF=AD=E6=B3=
=95=EF=BC=8Cjs=E7=9A=84=E8=BF=90=E8=A1=8C=E6=97=B6=E4=BC=9A=E5=B0=86=E5=AD=
=97=E9=9D=A2=E7=9A=84function=E8=BD=AC=E5=8C=96=E6=88=90Function=E5=AF=B9=
=E8=B1=A1=EF=BC=8C=E6=89=80=E4=BB=A5=E5=AE=9E=E9=99=85=E4=B8=8AFunction=E6=
=8F=90=E4=BE=9B=E4=BA=86=E6=9B=B4=E4=B8=BA=E5=BA=95=E5=B1=82=E5=92=8C=E7=81=
=B5=E6=B4=BB=E7=9A=84=E6=9C=BA=E5=88=B6=E3=80=82</p>
<p>=E7=94=A8 Function =E7=B1=BB=E7=9B=B4=E6=8E=A5=E5=88=9B=E5=BB=BA=E5=87=
=BD=E6=95=B0=E7=9A=84=E8=AF=AD=E6=B3=95=E5=A6=82=E4=B8=8B=EF=BC=9A</p>
<pre><code class=3D" hljs r">var function_name =3D new Function(arg1, arg2,=
 <span class=3D"hljs-keyword">...</span>, argN, function_body);
</code></pre>

<p>=E4=BE=8B=E5=A6=82=EF=BC=9A</p>
<pre><code class=3D" hljs javascript"><span class=3D"hljs-comment">//=E5=88=
=9B=E5=BB=BA=E5=8A=A8=E6=80=81=E5=87=BD=E6=95=B0</span>
<span class=3D"hljs-keyword">var</span> fn =3D <span class=3D"hljs-keyword"=
>new</span> <span class=3D"hljs-built_in">Function</span>(<span class=3D"hl=
js-string">"arg"</span>, <span class=3D"hljs-string">"console.log(arg + 1);=
"</span>);  <span class=3D"hljs-comment">//=E5=8F=82=E6=95=B0: arg=EF=BC=8C=
=E5=87=BD=E6=95=B0=E4=BD=93: console.log(arg + 1);</span>
<span class=3D"hljs-comment">//=E6=89=A7=E8=A1=8C</span>
fn(<span class=3D"hljs-number">2</span>); <span class=3D"hljs-comment">// o=
utputs 3</span>



<span class=3D"hljs-function"><span class=3D"hljs-keyword">function</span> =
<span class=3D"hljs-title">tmpl</span><span class=3D"hljs-params">(id,data)=
</span>{</span>
    <span class=3D"hljs-keyword">var</span> html=3Ddocument.getElementById(=
id).innerHTML;
    <span class=3D"hljs-keyword">var</span> result=3D<span class=3D"hljs-st=
ring">"var p=3D[];with(obj){p.push('"</span>
        +html.replace(<span class=3D"hljs-regexp">/[\r\n\t]/g</span>,<span =
class=3D"hljs-string">" "</span>)
        .replace(<span class=3D"hljs-regexp">/&lt;%=3D(.*?)%&gt;/g</span>,<=
span class=3D"hljs-string">"');p.push($1);p.push('"</span>)
        .replace(<span class=3D"hljs-regexp">/&lt;%/g</span>,<span class=3D=
"hljs-string">"');"</span>)
        .replace(<span class=3D"hljs-regexp">/%&gt;/g</span>,<span class=3D=
"hljs-string">"p.push('"</span>)
        +<span class=3D"hljs-string">"');}return p.join('');"</span>;
    <span class=3D"hljs-keyword">var</span> fn=3D<span class=3D"hljs-keywor=
d">new</span> <span class=3D"hljs-built_in">Function</span>(<span class=3D"=
hljs-string">"obj"</span>,result);
    <span class=3D"hljs-keyword">return</span> fn(data);
}
</code></pre>

<p>=E6=9C=80=E7=BB=88=E4=BB=A3=E7=A0=81=EF=BC=9A</p>
<pre><code class=3D" hljs scilab"><span class=3D"hljs-transposed_variable">=
module.</span>exports =3D <span class=3D"hljs-function"><span class=3D"hljs=
-keyword">function</span><span class=3D"hljs-params">(html, options)</span>=
 {</span>
    var re =3D /&lt;%(.+?)%&gt;/g,
        reExp =3D /(^( )?(var|<span class=3D"hljs-keyword">if</span>|<span =
class=3D"hljs-keyword">for</span>|<span class=3D"hljs-keyword">else</span>|=
switch|<span class=3D"hljs-keyword">case</span>|<span class=3D"hljs-keyword=
">break</span>|{|}|;))(.*)?/g,
        code =3D <span class=3D"hljs-string">'with(obj) { var r=3D[];\n'</s=
pan>,
        cursor =3D <span class=3D"hljs-number">0</span>,
        result;
    var add =3D <span class=3D"hljs-function"><span class=3D"hljs-keyword">=
function</span><span class=3D"hljs-params">(line, js)</span> {</span>
        js? (code +=3D <span class=3D"hljs-transposed_variable">line.</span=
>match(reExp) ? line + <span class=3D"hljs-string">'\n'</span> : <span clas=
s=3D"hljs-string">'r.push('</span> + line + <span class=3D"hljs-string">');=
\n'</span>) :
            (code +=3D line !=3D <span class=3D"hljs-string">''</span> ? <s=
pan class=3D"hljs-string">'r.push("</span><span class=3D"hljs-string">' + l=
ine.replace(/"</span>/g, <span class=3D"hljs-string">'\\"</span><span class=
=3D"hljs-string">') + '</span><span class=3D"hljs-string">");\n'</span> : <=
span class=3D"hljs-string">''</span>);
        <span class=3D"hljs-keyword">return</span> add;
    }
    while(match =3D <span class=3D"hljs-transposed_variable">re.</span>exec=
(html)) {
        add(<span class=3D"hljs-transposed_variable">html.</span>slice(curs=
or, <span class=3D"hljs-transposed_variable">match.</span>index))(match<spa=
n class=3D"hljs-matrix">[<span class=3D"hljs-number">1</span>]</span>, true=
);
        cursor =3D <span class=3D"hljs-transposed_variable">match.</span>in=
dex + match<span class=3D"hljs-matrix">[<span class=3D"hljs-number">0</span=
>].</span><span class=3D"hljs-built_in">length</span>;
    }
    add(<span class=3D"hljs-transposed_variable">html.</span>substr(cursor,=
 <span class=3D"hljs-transposed_variable">html.</span><span class=3D"hljs-b=
uilt_in">length</span> - cursor));
    code =3D (code + <span class=3D"hljs-string">'return r.join("</span><sp=
an class=3D"hljs-string">"); }'</span>).replace(/<span class=3D"hljs-matrix=
">[\r\t\n]</span>/g, <span class=3D"hljs-string">''</span>);
    <span class=3D"hljs-keyword">try</span> { result =3D new Function(<span=
 class=3D"hljs-string">'obj'</span>, code).apply(options, <span class=3D"hl=
js-matrix">[options]</span>); }
    <span class=3D"hljs-keyword">catch</span>(err) { <span class=3D"hljs-tr=
ansposed_variable">console.</span>error(<span class=3D"hljs-string">"'</spa=
n><span class=3D"hljs-string">" + err.message + "</span><span class=3D"hljs=
-string">'"</span>, <span class=3D"hljs-string">" in \n\nCode:\n"</span>, c=
ode, <span class=3D"hljs-string">"\n"</span>); }
    <span class=3D"hljs-keyword">return</span> result;
}
</code></pre>

<p>=E6=9B=B4=E5=A4=9A=E8=B5=84=E6=96=99:
<a href=3D"http://krasimirtsonev.com/blog/article/Javascript-template-engin=
e-in-just-20-line">http://krasimirtsonev.com/blog/article/Javascript-templa=
te-engine-in-just-20-line</a> =20
</p>



<!-- This document was created with MarkdownPad, the Markdown editor for Wi=
ndows (http://markdownpad.com) -->
</body></html>
------MultipartBoundary--56qSkiQMeyf2fpa2WSDlASW6B5y5csDUueOZUx7GKv----
Content-Type: text/css
Content-Transfer-Encoding: quoted-printable
Content-Location: http://cdn.bootcss.com/highlight.js/8.0/styles/monokai_sublime.min.css

@charset "utf-8";

.hljs { display: block; padding: 0.5em; background: rgb(35, 36, 31); }

.hljs, .hljs-tag, .css .hljs-rules, .css .hljs-value, .css .hljs-function .=
hljs-preprocessor, .hljs-pragma { color: rgb(248, 248, 242); }

.hljs-strongemphasis, .hljs-strong, .hljs-emphasis { color: rgb(168, 168, 1=
62); }

.hljs-bullet, .hljs-blockquote, .hljs-horizontal_rule, .hljs-number, .hljs-=
regexp, .alias .hljs-keyword, .hljs-literal, .hljs-hexcolor { color: rgb(17=
4, 129, 255); }

.hljs-tag .hljs-value, .hljs-code, .hljs-title, .css .hljs-class, .hljs-cla=
ss .hljs-title:last-child { color: rgb(166, 226, 46); }

.hljs-link_url { font-size: 80%; }

.hljs-strong, .hljs-strongemphasis { font-weight: bold; }

.hljs-emphasis, .hljs-strongemphasis, .hljs-class .hljs-title:last-child { =
font-style: italic; }

.hljs-keyword, .hljs-function, .hljs-change, .hljs-winutils, .hljs-flow, .l=
isp .hljs-title, .clojure .hljs-built_in, .nginx .hljs-title, .tex .hljs-sp=
ecial, .hljs-header, .hljs-attribute, .hljs-symbol, .hljs-symbol .hljs-stri=
ng, .hljs-tag .hljs-title, .hljs-value, .alias .hljs-keyword:first-child, .=
css .hljs-tag, .css .unit, .css .hljs-important { color: rgb(249, 38, 114);=
 }

.hljs-function .hljs-keyword, .hljs-class .hljs-keyword:first-child, .hljs-=
constant, .css .hljs-attribute { color: rgb(102, 217, 239); }

.hljs-variable, .hljs-params, .hljs-class .hljs-title { color: rgb(248, 248=
, 242); }

.hljs-string, .css .hljs-id, .hljs-subst, .haskell .hljs-type, .ruby .hljs-=
class .hljs-parent, .hljs-built_in, .sql .hljs-aggregate, .django .hljs-tem=
plate_tag, .django .hljs-variable, .smalltalk .hljs-class, .django .hljs-fi=
lter .hljs-argument, .smalltalk .hljs-localvars, .smalltalk .hljs-array, .h=
ljs-attr_selector, .hljs-pseudo, .hljs-addition, .hljs-stream, .hljs-envvar=
, .apache .hljs-tag, .apache .hljs-cbracket, .tex .hljs-command, .hljs-prom=
pt, .hljs-link_label, .hljs-link_url { color: rgb(230, 219, 116); }

.hljs-comment, .hljs-javadoc, .java .hljs-annotation, .python .hljs-decorat=
or, .hljs-template_comment, .hljs-pi, .hljs-doctype, .hljs-deletion, .hljs-=
shebang, .apache .hljs-sqbracket, .tex .hljs-formula { color: rgb(117, 113,=
 94); }

.coffeescript .javascript, .javascript .xml, .tex .hljs-formula, .xml .java=
script, .xml .vbscript, .xml .css, .xml .hljs-cdata, .xml .php, .php .xml {=
 opacity: 0.5; }
------MultipartBoundary--56qSkiQMeyf2fpa2WSDlASW6B5y5csDUueOZUx7GKv------
